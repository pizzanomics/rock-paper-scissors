<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
</head>
<body>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>

    <div id="results-box">
        <h1 id="results">Results</h1>
        <p id="liveScore">Player 0 - 0 Computer</p>
    </div>
</body>

<script>

const moves = ["rock", "paper", "scissors"];

function getComputerChoice() {
    return moves[Math.floor(Math.random() * moves.length)];
}

const rock = document.querySelector('#rock')
const paper = document.querySelector('#paper')
const scissors = document.querySelector('#scissors')

const liveScore = document.querySelector('#liveScore')

let playerSelection
let computerSelection

rock.addEventListener('click', () => {
    playerSelection = "rock";
    computerSelection = getComputerChoice();
    playRound();
    liveScore.textContent = ("Player " + playerScore + " - " + computerScore + " Computer");

    if (playerScore ==  5 || computerScore == 5) {
       finalScore();
    }

});

paper.addEventListener('click', () => {
    playerSelection = "paper";
    computerSelection = getComputerChoice();
    playRound();
    liveScore.textContent = ("Player " + playerScore + " - " + computerScore + " Computer");

    if (playerScore ==  5 || computerScore == 5) {
       finalScore();
    }
    
});

scissors.addEventListener('click', () => {
    playerSelection = "scissors";
    computerSelection = getComputerChoice();
    playRound();
    liveScore.textContent = ("Player " + playerScore + " - " + computerScore + " Computer");

    if (playerScore ==  5 || computerScore == 5) {
       finalScore();
    }
    
});

const win = document.createElement('p');
const tie = document.createElement('p');
const lose = document.createElement('p');
const error = document.createElement('p');

const results = document.querySelector('#results')
const resultsBox = document.querySelector('#results-box')


let playerScore = 0
let computerScore = 0

function playRound() {

    if (playerSelection === computerSelection){
        tie.textContent = ("It's a tie -- you both chose "+ playerSelection + "!")
        resultsBox.appendChild(tie);
    }

    else if (playerSelection === "rock" && computerSelection === "scissors"){
        playerScore++;
        win.textContent = ("You win!");
        resultsBox.appendChild(win);
    }

    else if (playerSelection === "rock" && computerSelection === "paper"){
        computerScore++;
        lose.textContent = ("You lose...");
        resultsBox.appendChild(lose);
    }

    else if (playerSelection === "paper" && computerSelection === "rock"){
        playerScore++;
        win.textContent = ("You win!");
        resultsBox.appendChild(win);
    }

    else if (playerSelection === "paper" && computerSelection === "scissors"){
        computerScore++;
        lose.textContent = ("You lose...");
        resultsBox.appendChild(lose);
    }

    else if (playerSelection === "scissors" && computerSelection === "rock"){
        computerScore++;
        lose.textContent = ("You lose...");
        resultsBox.appendChild(lose);
    }

    else if (playerSelection === "scissors" && computerSelection === "paper"){
        playerScore++;
        win.textContent = ("You win!");
        resultsBox.appendChild(win);
    }

    else {
        error.textContent = "You must have entered something wrong..."
        resultsBox.appendChild(error);
    }
;

}

const overallWinner = document.createElement('p');
const overallLoser = document.createElement('p');


function finalScore() {
    if (playerScore > computerScore) {
        overallWinner.textContent = ("You win! You beat the computer " + playerScore + "-" + computerScore + "!");
        results.appendChild(overallWinner);
    }

    else { 
        overallLoser.textContent = ("You lose... The computer beat you " + computerScore + "-" + playerScore + "...")
        results.appendChild(overallLoser);
    }
}

</script>

</html>